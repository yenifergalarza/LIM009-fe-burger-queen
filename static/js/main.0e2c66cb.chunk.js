(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/burgerqueen.7da93150.png"},29:function(e,t,a){e.exports=a(51)},34:function(e,t,a){},35:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(24),s=a.n(l),r=(a(34),a(11)),i=a(10),o=(a(35),a(36),a(25)),m=a.n(o),u=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",style:{"min-height":"2.25rem"}},c.a.createElement("h1",{className:"  column is-12 has-text-centered "},"BURGER QUEEN")),c.a.createElement("nav",{className:"navbar is-warning"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"navbar-brand"},c.a.createElement(r.b,{to:"#",className:"navbar-item App-Header"},c.a.createElement("img",{src:m.a,alt:"burgerqueen logo",className:"App-logo"})),c.a.createElement("div",{className:"navbar-end"},c.a.createElement("div",{className:"navbar-item"},c.a.createElement("div",{className:"field is-grouped "},c.a.createElement("div",{className:"control"},c.a.createElement(r.b,{to:"/",className:"title has-text-white"},c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"fas fa-pencil-alt"})),c.a.createElement("span",null,"ORDEN"))),c.a.createElement("div",{className:"control"},c.a.createElement(r.b,{to:"/cocina",class:"title has-text-white "},c.a.createElement("i",{class:"fas fa-hamburger"}),"COCINA")))))))))},d=a(9),E=a(3),f=function(e){var t=e.title,a=e.price,n=e.inventory,l=e.addToCart,s=e.removeFromCart,r=e.deleteFromCart;return c.a.createElement("div",{style:{marginBotton:"1.5rem"}},c.a.createElement("p",null,c.a.createElement("strong",null,t)," $",a),c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("p",{className:"control"},c.a.createElement("span",{className:"tag is-warning is-medium"},n)),c.a.createElement("p",{className:"control"},c.a.createElement("a",{href:"/#",className:"button is-link",onClick:l},c.a.createElement("span",{className:"icon is-small"},c.a.createElement("i",{className:"fas fa-plus"})))),c.a.createElement("p",{className:"control"},c.a.createElement("a",{href:"/#",className:"button",onClick:s},c.a.createElement("span",{className:"icon is-small"},c.a.createElement("i",{className:"fas fa-minus"})))),c.a.createElement("p",{className:"control"},c.a.createElement("a",{href:"/#",className:"button is-danger",onClick:r},c.a.createElement("span",{className:"icon is-small"},c.a.createElement("i",{className:"fas fa-trash"}))))))},b=function(e){var t,a=e.total,n=e.sendOrders,l=e.products,s=e.client;return c.a.createElement("div",{className:"buttons has-addons box is-centered"},c.a.createElement("button",{className:"button is-dark"},c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"fas fa-money-bill"})),c.a.createElement("span",null,"$",(t=a,new Intl.NumberFormat("en-US",{mininumFractionDigits:2,maximunFractionDigits:2}).format(t)))),c.a.createElement("a",{href:"/#",className:"button is-dark",onClick:function(){console.log("sjsjs"),n(l,s)}},c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"fas fa-receipt"})),c.a.createElement("span",null,"enviar orden")))},p=function(e){var t=e.products,a=e.addToCart,n=e.removeFromCart,l=e.deleteFromCart,s=e.getTotal,r=e.sendOrders,i=e.client;return c.a.createElement("div",{className:"column is-centered box container is-5"},c.a.createElement("div",{clasname:"column "},c.a.createElement("h2",{className:""},i),c.a.createElement("div",{clasname:"column "},t.map(function(e){return c.a.createElement(f,{key:e.id,title:e.title,price:e.price,inventory:e.counter,addToCart:function(){return a(e.id)},removeFromCart:function(){return n(e.id)},deleteFromCart:function(){return l(e.id)}})})),c.a.createElement(b,{total:s(t),products:t,sendOrders:r,client:i})))},g=function(e){var t=e.onclick,a=e.text,n=e.classOfComponent;return c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("button",{"data-testid":"buttontag",className:n,onClick:t},a))},h=function(e){var t=e.productElement,a=e.addProduct;return 18===t.length?c.a.createElement(c.a.Fragment,null):c.a.createElement("div",{"data-testid":"subbuttontag",className:"tile is-child buttons is-12 is-centered columns is-mobile"},t.map(function(e){return c.a.createElement(g,{key:e,classOfComponent:"button is-outlined ",onclick:function(){a(e.id,e.title,e.price,e.counter=1)},text:e.title})}))},v=function(e){var t=e.allProducts,a=e.addProduct,l=Object(n.useState)(Object(d.a)(t)),s=Object(E.a)(l,2),r=s[0],i=s[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(g,{onclick:function(){!function(e){i(t);var a=[];e.filter(function(e){return"burguer"===e.type&&a.push(e),a}),i(a)}(t)},text:"HAMBURGUESAS",classOfComponent:"tile is-child button is-warning columns is-mobile"}),c.a.createElement(g,{onclick:function(){!function(e){i(t);var a=[];e.filter(function(e){return"additional"===e.type&&a.push(e),a}),i(a)}(t)},text:"ACOMPA\xd1AMIENTOS",classOfComponent:"tile is-child button is-warning columns is-mobile"}),c.a.createElement(g,{onclick:function(){!function(e){i(t);var a=[];e.filter(function(e){return"drinks"===e.type&&a.push(e),a}),i(a)}(t)},text:"BEBIDAS",classOfComponent:"tile is-child button is-warning columns is-mobile"}),c.a.createElement(h,{productElement:r,addProduct:a}))},N=function(e){var t=e.allProducts,a=e.addProduct;console.log(t);var l=Object(n.useState)(Object(d.a)(t)),s=Object(E.a)(l,2),r=s[0],i=s[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(g,{onclick:function(){!function(e){i(t);var a=[];e.filter(function(e){return"sandwich"===e.type&&a.push(e),a}),i(a)}(t)},text:"SANDWICHS",classOfComponent:"tile is-child button is-warning columns is-mobile"}),c.a.createElement(g,{onclick:function(){!function(e){i(t);var a=[];e.filter(function(e){return"morningdrinks"===e.type&&a.push(e),a}),i(a)}(t)},text:"BEBIDAS",classOfComponent:"tile is-child button is-warning columns is-mobile"}),c.a.createElement(h,{productElement:r,addProduct:a}))},O=a(15),k=a(20),y=a.n(k),j=y.a.initializeApp({apiKey:"AIzaSyDgGKewsPUQPwai71E-FePagG6XcHk0pOA",authDomain:"burguerqueen-666.firebaseapp.com",databaseURL:"https://burguerqueen-666.firebaseio.com",projectId:"burguerqueen-666",storageBucket:"burguerqueen-666.appspot.com",messagingSenderId:"221577019452",appId:"1:221577019452:web:1e57418e8a1d93d9"}),C=y.a.firestore(),w=C.collection("menu"),S=C.collection("pedidos"),x=function(e){var t=e.addProduct,a=Object(n.useState)([]),l=Object(E.a)(a,2),s=l[0],r=l[1];Object(n.useEffect)(function(){w.onSnapshot(function(e){var t=[];e.forEach(function(e){t.push(e.data())}),console.log(t),r(t)})},[]);var i=Object(n.useState)("breakfast"),o=Object(E.a)(i,2),m=o[0],u=o[1];return c.a.createElement("div",{className:"box tile is-parent is-6 has-addons displayBlock container"},c.a.createElement("div",null,c.a.createElement("div",{className:"tabs is-fullwidth is-centered is-boxed"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{href:"/#",onClick:function(){u("breakfast")}},"Desayuno")),c.a.createElement("li",null,c.a.createElement("a",{href:"/#",onClick:function(){u("AllMeals")}},"Todo el d\xeda"))))),c.a.createElement("div",{className:"displayFlex"},"breakfast"===m&&c.a.createElement("div",null,c.a.createElement(N,{allProducts:s,addProduct:t})),"AllMeals"===m&&c.a.createElement("div",null,c.a.createElement(v,{allProducts:s,addProduct:t}))))},P=function(e){var t=e.client,a=e.setClient;return c.a.createElement("div",{className:"box tile is-parent is-12 has-addons displayBlock container"},c.a.createElement("div",{className:"field is-horizontal"},c.a.createElement("div",{className:"field-label is-normal"},c.a.createElement("h2",{class:"label"},"Nombre del cliente")),c.a.createElement("p",{class:"field-body control has-icons-left has-icons-right"},c.a.createElement("input",{className:"input",onChange:function(e){var t=e.target.value;a(t),t=""},value:t}),c.a.createElement("span",{className:"icon is-small is-left"},c.a.createElement("i",{className:"fas fa-user"})),c.a.createElement("span",{className:"icon is-small is-right"},c.a.createElement("i",{className:"fas fa-check"})))))},D=function(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],l=t[1],s=Object(n.useState)(""),r=Object(E.a)(s,2),i=r[0],o=r[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(P,{client:i,setClient:o}),c.a.createElement("div",{className:"columns container is-fluid box ",style:{height:"45vh"}},c.a.createElement(x,{addProduct:function(e,t,n,c){var s=[].concat(Object(d.a)(a),[{id:e,title:t,price:n,counter:c}]);l(s)}}),c.a.createElement(p,{products:a,addToCart:function(e){var t=Object(d.a)(a);return t.forEach(function(t){if(t.id===e)return t.counter=t.counter+1}),l(t)},removeFromCart:function(e){var t=Object(d.a)(a);return t.forEach(function(t){if(t.id===e&&t.counter>0)return t.counter=t.counter-1}),console.log(t),l(t),a},deleteFromCart:function(e){var t=Object(d.a)(a);return t.forEach(function(a,n){if(a.id===e)return t.splice(t[n],1)}),console.log(t),l(t),a},getTotal:function(e){var t=[],a=0;return e.forEach(function(e){return t.push(e.counter*e.price)}),t.forEach(function(e){return a+=e}),a},sendOrders:function(e,t){console.log("entre a firebase",e),S.add({name:t,cart:e,status:"pendiente",time:new Date}),o(""),l([])},client:i})))},F=function(e){var t=e.keyPENDING,a=e.id,l=e.time,s=e.name,r=(e.status,e.cart),i=Object(n.useState)(0),o=Object(E.a)(i,2),m=o[0],u=o[1],d=Object(n.useState)(0),f=Object(E.a)(d,2),b=f[0],p=f[1],g=Object(n.useState)(0),h=Object(E.a)(g,2),v=h[0],N=h[1],O=l.toDate().getHours(),k=l.toDate().getMinutes(),y=l.toDate().getSeconds(),C=!1;Object(n.useEffect)(function(){!function e(){var t=new Date,a=t.getHours(),n=t.getMinutes(),c=t.getSeconds();a-=O,(c-=y)<=-1&&c>=-54&&(c+=60),(n-=k)<=-1&&n>=-54&&(n+=60);var l=setTimeout(e,500);C&&clearTimeout(l),p(n),N(c),u(a),console.log("".concat(a))}()},[O,k,y,C]);var w=function(e){j.firestore().doc("pedidos/".concat(a)).update({status:e})};return c.a.createElement(c.a.Fragment,null,c.a.createElement("article",{style:{overflow:"scroll"},className:"message is-dark tile is-child  is-6 is-12-mobile",key:t},c.a.createElement("div",{className:"message-header"},c.a.createElement("p",null,"Orden de ",s," "),c.a.createElement("p",null,"".concat(m," :").concat(b," : ").concat(v)),c.a.createElement("div",{class:"control"},c.a.createElement("div",{class:"tags has-addons has-centered"},c.a.createElement("span",{class:"tag is-light"},"Pedido"),c.a.createElement("span",{class:"tag is-danger"},"Pendiente")))),c.a.createElement("div",{className:" message-body"},c.a.createElement("h5",{class:"subtitle is-5"},O,":",k,":",y),c.a.createElement("h4",{class:"title is-4"}," "),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",{className:" table is-striped "},c.a.createElement("th",null,c.a.createElement("h4",{className:"subtitle is-4"},"N")),c.a.createElement("th",{className:"subtitle "},"Order")))," ",c.a.createElement("tbody",null,r.map(function(e){return c.a.createElement("tr",null,c.a.createElement("td",null,e.counter),c.a.createElement("td",null,e.title))}))),c.a.createElement("div",{class:"is-grouped"},c.a.createElement("button",{class:"button is-warning",onClick:function(){w("cocinando")}},"Cocinando"),c.a.createElement("button",{class:"button is-danger",onClick:function(){w("cancelado")}},"Cancelado")))))},A=function(e){var t=e.keyPENDING,a=e.id,l=e.time,s=e.name,r=(e.status,e.cart),i=Object(n.useState)(0),o=Object(E.a)(i,2),m=o[0],u=o[1],d=Object(n.useState)(0),f=Object(E.a)(d,2),b=f[0],p=f[1],g=Object(n.useState)(0),h=Object(E.a)(g,2),v=h[0],N=h[1],O=l.toDate().getHours(),k=l.toDate().getMinutes(),y=l.toDate().getSeconds(),C=!1;Object(n.useEffect)(function(){!function e(){var t=new Date,a=t.getHours(),n=t.getMinutes(),c=t.getSeconds();a-=O,(c-=y)<=-1&&c>=-54&&(c+=60),(n-=k)<=-1&&n>=-54&&(n+=60);var l=setTimeout(e,500);C&&clearTimeout(l),p(n),N(c),u(a),console.log("".concat(a))}()},[O,k,y,C]);var w=function(e){j.firestore().doc("pedidos/".concat(a)).update({status:e})};return c.a.createElement(c.a.Fragment,null,c.a.createElement("article",{style:{overflow:"scroll"},className:"message is-dark tile is-child  is-6 is-12-mobile ",key:t},c.a.createElement("div",{className:"message-header"},c.a.createElement("p",null,"Pedido de ",s," "),c.a.createElement("p",null,"".concat(m," :").concat(b," : ").concat(v)),c.a.createElement("div",{class:"control"},c.a.createElement("div",{class:"tags has-addons has-centered"},c.a.createElement("span",{class:"tag is-light"},"Pedido"),c.a.createElement("span",{class:"tag is-warning"},"Cocinado")))),c.a.createElement("div",{className:"message-body"},c.a.createElement("h5",{class:"subtitle is-5"},O,":",k,":",y),c.a.createElement("h4",{class:"title is-4"}," "),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",{className:" table is-striped "},c.a.createElement("th",null,c.a.createElement("h4",{className:"subtitle is-4"},"N")),c.a.createElement("th",{className:"subtitle "},"Order")))," ",c.a.createElement("tbody",null,r.map(function(e){return c.a.createElement("tr",null,c.a.createElement("td",null,e.counter),c.a.createElement("td",null,e.title))}))),c.a.createElement("button",{class:"button is-success",onClick:function(){w("entregado")}},"Entregado"),c.a.createElement("button",{class:"button is-danger",onClick:function(){w("cancelado")&&(C=!0)}},"Cancelado"))))},T=function(e){var t=e.keyPENDING,a=(e.id,e.time),l=e.name,s=(e.status,e.cart),r=Object(n.useState)(0),i=Object(E.a)(r,2),o=i[0],m=i[1],u=Object(n.useState)(0),d=Object(E.a)(u,2),f=d[0],b=d[1],p=Object(n.useState)(0),g=Object(E.a)(p,2),h=g[0],v=g[1],N=a.toDate().getHours(),O=a.toDate().getMinutes(),k=a.toDate().getSeconds();return Object(n.useEffect)(function(){!function e(){var t=new Date,a=t.getHours(),n=t.getMinutes(),c=t.getSeconds();(c-=k)<=-1&&c>=-54&&(c+=60),(n-=O)<=-1&&n>=-54&&(n+=60),(a-=N)<=-1&&a>=-23&&(a+=24);var l=setTimeout(e,500);clearTimeout(l),b(n),v(c),m(a),console.log("".concat(a))}()}),Object(n.useEffect)(function(){!function e(){var t=new Date,a=t.getHours(),n=t.getMinutes(),c=t.getSeconds();a-=N,(c-=k)<=-1&&c>=-29&&(c+=60),(n-=O)<=-1&&n>=-30&&(n+=60);var l=setTimeout(e,500);clearTimeout(l),b(n),v(c),m(a),console.log("".concat(a))}()},[N,O,k,!0]),c.a.createElement(c.a.Fragment,null,c.a.createElement("article",{className:"message is-dark  tile is-child is-6 is-12-mobile",key:t,style:{overflow:"scroll"}},c.a.createElement("div",{className:"message-header "},c.a.createElement("p",null,"Pedido de ",l," "),c.a.createElement("p",null,"".concat(o," :").concat(f," : ").concat(h)),c.a.createElement("div",{class:"control "},c.a.createElement("div",{class:"tags has-addons has-centered"},c.a.createElement("span",{class:"tag is-light"},"Pedido"),c.a.createElement("span",{class:"tag is-success"},"Entregado")))),c.a.createElement("div",{className:"message-body"},c.a.createElement("h5",{class:"subtitle is-5"},N,":",O,":",k),c.a.createElement("h4",{class:"title is-4"}," "),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",{className:" table is-striped "},c.a.createElement("th",null,c.a.createElement("h4",{className:"subtitle is-4"},"N")),c.a.createElement("th",{className:"subtitle is-5"},"Producto"))),c.a.createElement("tbody",null,s.map(function(e){return c.a.createElement("tr",null,c.a.createElement("td",null,e.counter),c.a.createElement("td",null,e.title))}))))))},M=function(){var e=Object(O.a)(S.where("status","==","pendiente"),{snapshotListenOptions:{includeMetadataChanges:!0}}),t=Object(E.a)(e,3),a=t[0],l=t[1],s=t[2],r=Object(O.a)(S.where("status","==","entregado"),{snapshotListenOptions:{includeMetadataChanges:!0}}),i=Object(E.a)(r,1)[0],o=Object(O.a)(S.where("status","==","cocinando"),{snapshotListenOptions:{includeMetadataChanges:!0}}),m=Object(E.a)(o,1)[0],u=Object(n.useState)("pending"),d=Object(E.a)(u,2),f=d[0],b=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{class:"hero is-dark"},c.a.createElement("div",{class:"hero-body "},c.a.createElement("div",{class:"container "},c.a.createElement("h1",{class:"title has-text-centered"},"Revisa el estado de los pedidos"),c.a.createElement("h2",{class:"subtitle has-text-centered"},"Y actualizalos")))),c.a.createElement("div",{className:"box tile is-ancestor  ",style:{height:"100vh",padding:0}},c.a.createElement("div",{className:"box tile is-vertical",style:{height:"150vh",padding:0}},c.a.createElement("div",{className:"box tile is-parent is-6 has-addons displayBlock container"},c.a.createElement("div",null,c.a.createElement("div",{className:"tabs is-fullwidth is-centered is-boxed"},c.a.createElement("ul",{className:"buttons has-addons"},c.a.createElement("li",{className:"control button  is-dark  "},c.a.createElement("span",{className:"has-text-centered",onClick:function(){b("pending")}},"Pendiente")),c.a.createElement("li",{className:"control button is-dark"},c.a.createElement("span",{className:"has-text-centered",onClick:function(){b("cooking")}},"Cocinando")),c.a.createElement("li",{className:"control button is-dark"},c.a.createElement("span",{className:"has-text-centered ",onClick:function(){b("finished")}},"Entregado")))))," "),c.a.createElement("div",{className:"displayFlex"},s&&c.a.createElement("strong",null,"Error: ",JSON.stringify(s)),l&&c.a.createElement("progress",{class:"progress is-medium is-dark",max:"100"},"45%"),"pending"===f&&c.a.createElement("div",{style:{padding:"2em"}},a&&c.a.createElement("div",{className:"columns is-multiline is-parent is-12-desktop  is-12-mobile table-container",style:{padding:"2em"}},a.docs.map(function(e){return c.a.createElement(F,{key:e.id,name:e.data().name,time:e.data().time,id:e.id,cart:e.data().cart,status:e.data().status})}))),"cooking"===f&&c.a.createElement("div",{style:{padding:"2em"}},m&&c.a.createElement("div",{className:"columns is-multiline  is-parent is-12-desktop  is-12-mobile table-container",style:{padding:"2em"}},m.docs.map(function(e){return c.a.createElement(A,{key:e.id,name:e.data().name,time:e.data().time,id:e.id,cart:e.data().cart,status:e.data().status})})))),"finished"===f&&c.a.createElement("div",null,a&&c.a.createElement("div",{className:"tile is-parent is-12-desktop  is-12-mobile table-container",style:{padding:"2em"}},i&&c.a.createElement("div",{className:"columns is-multiline  is-parent is-12-desktop  is-12-mobile table-container",style:{padding:"2em"}},i.docs.map(function(e){return c.a.createElement(T,{key:e.id,name:e.data().name,time:e.data().time,id:e.id,cart:e.data().cart,status:e.data().status})})))))))},I=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Hello from OrdersHistory"))},B=function(){return c.a.createElement(r.a,null,c.a.createElement(u,null),c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/",component:D}),c.a.createElement(i.a,{path:"/cocina",component:M}),c.a.createElement(i.a,{path:"/historial",component:I}),c.a.createElement(i.a,{component:D})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(50);s.a.render(c.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.0e2c66cb.chunk.js.map